{{ $content := .Inner }}

{{ $regex := "\\[\\[([^\\]\\|]+)(?:\\|([^\\]]+))?\\]\\]" }}
{{ $processed := $content }}

{{ $processed = replaceRE $regex "<a href=\"/${1}/\">${2:-$1}</a>" $processed }}

{{ return $processed | safeHTML }} 